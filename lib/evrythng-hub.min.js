// EVRYTHNG JS SDK v3.1.0
// (c) 2012-2015 EVRYTHNG Ltd. London / New York / Zurich.
// Released under the Apache Software License, Version 2.0.
// For all details and usage:
// https://github.com/evrythng/evrythng.js


!function(a,b){"function"==typeof define&&define.amd?define(b()):"object"==typeof exports?module.exports=b():a.EVT.Hub=a.Evrythng.Hub=b()}(this,function(){"use strict";var a="1.0.0",b={apiUrl:"http://localhost:8080",timeout:1e3,remote:!1},c=[{path:/^\/thngs$/,method:["get"]},{path:/^\/thngs\/[^\/]+$/,method:["get"]},{path:/^\/thngs\/[^\/]+\/properties$/,method:["post","get","put"]},{path:/^\/thngs\/[^\/]+\/properties\/[^\/]+$/,method:["post","get","put"]},{path:/^\/thngs\/[^\/]+\/actions\/[^\/]+$/,method:["post","get"]},{path:/^\/thngs\/[^\/]+\/actions\/[^\/]+\/[^\/]+$/,method:["get"]},{path:/^\/collections$/,method:["get"]},{path:/^\/collections\/[^\/]+$/,method:["get"]},{path:/^\/collections\/[^\/]+\/thngs$/,method:["get"]},{path:/^\/collections\/[^\/]+\/actions\/[^\/]+$/,method:["post","get"]},{path:/^\/collections\/[^\/]+\/actions\/[^\/]+\/[^\/]+$/,method:["get"]},{path:/^\/actions$/,method:["get"]}],d={version:a,settings:b,requires:["core"],setup:function(a){if("[object Object]"!==Object.prototype.toString.call(a))throw new TypeError("Setup should be called with an options object.");for(var b in a)a.hasOwnProperty(b)&&(this.settings[b]=a[b]);return this.settings},install:function(a){var b=this,e=a.api;a.api=function(a){var f=void 0!==a.remote?a.remote:d.settings.remote;if(f)return e.apply(null,arguments);for(var g=/^(.*?)(\?|$)/.exec(a.url)[1],h=a.method||"get",i=arguments,j=0;j<c.length&&(!c[j].path.test(g)||-1===c[j].method.indexOf(h));j++);return j<c.length?(a.apiUrl=b.settings.apiUrl,a.timeout=b.settings.timeout,e.apply(null,i)["catch"](function(){return delete a.apiUrl,delete a.timeout,e.apply(null,i)})):e.apply(null,i)}}};return d});
//# sourceMappingURL=evrythng-hub.min.js.map